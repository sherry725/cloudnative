Nvidia GeForce RTX 4090 显卡
24GB 显存， 16384个CUDA计算核心 (ALU)， 真正意义上的并行计算
显卡利用率 80% 是业界很不错的水平了
如何提高显卡利用率，每个计算核心都有任务，正确提取任务
自注意力机制，窗口2048(个向量)，每个向量分别要做三次映射得到Q,K,V,还要映射成96个头
总共2048*3*96 = 589824个映射任务
如果有100张卡？
假设每个向量是1*12288,经过映射变成1*128, 也就是1*12288 点乘 12288*128, 得到 1*128
也就是有128次点乘
589824个映射任务就变成 589824*128 个点乘任务

2048(个向量)，每个向量在96个头里分别都有对应的Q,K,V,要计算相关度系数
每个头要计算2048*2048次相似度
公共计算96*2048*2046次相似度




